\DOC UNWIND_ALL_BUT_CONV

\TYPE {UNWIND_ALL_BUT_CONV : (string list -> conv)}

\SYNOPSIS
Unwinds all lines of a device (except those in the argument list) as much as
possible.

\LIBRARY unwind

\DESCRIBE
{UNWIND_ALL_BUT_CONV l} when applied to the following term:
{
   "t1 /\ ... /\ eqn1 /\ ... /\ eqnm /\ ... /\ tn"
}
\noindent returns a theorem of the form:
{
   |- t1  /\ ... /\ eqn1 /\ ... /\ eqnm /\ ... /\ tn =
      t1' /\ ... /\ eqn1 /\ ... /\ eqnm /\ ... /\ tn'
}
\noindent where {ti'} (for {1 <= i <= n}) is {ti} rewritten with the equations
{eqni} ({1 <= i <= m}). These equations are those conjuncts with line name not
in {l} (and which are equations).

\FAILURE
Never fails but may loop indefinitely.

\EXAMPLE
{
#UNWIND_ALL_BUT_CONV [`l2`]
# "(!(x:num). l1 x = (l2 x) - 1) /\
#  (!x. f x = (l2 (x+1)) + (l1 (x+2))) /\
#  (!x. l2 x = 7)";;
|- (!x. l1 x = (l2 x) - 1) /\
   (!x. f x = (l2(x + 1)) + (l1(x + 2))) /\
   (!x. l2 x = 7) =
   (!x. l1 x = (l2 x) - 1) /\
   (!x. f x = (l2(x + 1)) + ((l2(x + 2)) - 1)) /\
   (!x. l2 x = 7)
}
\SEEALSO
UNWIND_ONCE_CONV, UNWIND_CONV, UNWIND_AUTO_CONV, UNWIND_ALL_BUT_RIGHT_RULE,
UNWIND_AUTO_RIGHT_RULE.

\ENDDOC
